(this["webpackJsonpcrypto-tax-translator"]=this["webpackJsonpcrypto-tax-translator"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},113:function(e,t){},115:function(e,t){},142:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(50),i=a.n(c),o=(a(107),a(108),a(109),a(167)),s=a(171),l=a(14),u=a(102),d=a(170),h=a(7),j=a(4),b=a(98),f=a.n(b),x=a(51),y=a(172),O=a(174),p=a(168),m=(a(142),a(2)),v="hifo",T="lifo",g=function(){var e=Object(n.useState)("hifo"),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(j.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)(((new Date).getFullYear()-1).toString()),d=Object(j.a)(u,2),b=d[0],g=d[1];Object(n.useEffect)((function(){var e=(new Date).getFullYear(),t=Object(h.a)(Array(100).keys()).map((function(t){var a=(e-t).toString();return{label:a,value:a}}));s(t)}),[]);var S=Object(n.useCallback)((function(e,t,n){t.forEach((function(e){var t=new FileReader;t.fileName=e.name,t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading failed")},t.onload=function(e){f.a.parse(t.result,(function(t,n){var r=e.target.fileName.replace(".csv","").replace(".CSV","");r="".concat(r,"__").concat(a,"__").concat(b,".csv");for(var c=function(e,a,n){console.log("UP IN HERER",n);for(var r=e[0],c=[],i=["Quantity Transacted","USD Total (inclusive of fees)","USD Spot Price at Transaction","USD Fees"],o=0;o<e.length;o++)if(0!==o){for(var s=e[o],l={},u=0;u<s.length;u++){var d=s[u],h=r[u];i.includes(h)?l[h]=parseFloat(d)||0:l[h]=d}c.push(l)}for(var j={},b=[],f=function(e,t,n,r){var c=new Date(n.Timestamp),i=0;e["Quantity Transacted"]>0&&(i=e["USD Total (inclusive of fees)"]/e["Quantity Transacted"]*t);var o=t*n["USD Spot Price at Transaction"]-n["USD Fees"]/n["Quantity Transacted"]*t;"Sell"===r&&c.getFullYear()===a&&b.push({"Currency Name":e.Asset,"Purchase Date":e.Timestamp,"Cost Basis":i,"Date sold":n.Timestamp,Proceeds:o})},y=function(){var e=p[O],a=e.Asset,r=e["Transaction Type"];j[a]||(j[a]=[]);var c=function(a,c){for(var i=function(){var r=null;if(n===v){var i,o=Object(x.a)(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;s["Quantity Transacted"]>0&&(r?(c&&e["USD Spot Price at Transaction"]>r["USD Spot Price at Transaction"]||!c&&e["USD Spot Price at Transaction"]<r["USD Spot Price at Transaction"])&&(r=s):r=s)}}catch(t){o.e(t)}finally{o.f()}}else if(n===T)if(c)for(var l=a.length-1;l>=0;l--){var u=a[l];if(u["Quantity Transacted"]>0)return u}else for(var d=0;d<a.length;d++){var h=a[d];if(h["Quantity Transacted"]>0)return h}return r},o=i(),s=e["Quantity Transacted"];o;){var l=o["Quantity Transacted"];if(l>s){o["Quantity Transacted"]=o["Quantity Transacted"]-s,f(o,s,e,r);break}s>0&&(f(o,o["Quantity Transacted"],e,r),o["Quantity Transacted"]=0,s-=l),o=i()}};["Buy","Receive","Coinbase Earn"].includes(r)?j[a].push(e):"Sell"===r?c(j[a],!0):"Send"===r&&c(j[a],!1)},O=0,p=c;O<p.length;O++)y();return b}(n,parseInt(b),a),i="data:text/csv;charset=utf-8,",o=0;o<c.length;o++){var s=c[o];i+=0===o?Object.keys(s).join(",")+"\n":Object.values(s).join(",")+"\n"}var l=encodeURI(i),u=document.createElement("a");u.setAttribute("href",l),u.setAttribute("download",r),document.body.appendChild(u),u.click()}))},t.readAsText(e)}))}),[b,a]);return Object(m.jsxs)(l.a,{vertical:!0,spacing:"extraLoose",alignment:"center",children:[Object(m.jsxs)(l.a,{alignment:"center",children:[Object(m.jsx)(y.a,{label:"HIFO",helpText:"Highest In First Out",checked:"hifo"===a,id:"disabled",name:"accounts",onChange:function(){r("hifo")}}),Object(m.jsx)(y.a,{label:"LIFO",helpText:"Last In First out",id:"optional",name:"accounts",checked:"lifo"===a,onChange:function(){r("lifo")}})]}),Object(m.jsx)(O.a,{label:"Year",helpText:"Which year do you want to calculate taxes on?",options:o,value:b,onChange:g}),Object(m.jsx)("div",{className:"CsvDropzone",children:Object(m.jsx)(p.a,{onDrop:S,children:Object(m.jsx)(p.a.FileUpload,{actionTitle:"Process Transactions"})})})]})},S=a(101),I=a.n(S),C=function(){return Object(m.jsx)(I.a.Google,{client:"ca-pub-1418606837782831",slot:"7806394673",style:{display:"block"},layout:"in-article",format:"fluid"})},D=a(169),w=a(37),F=a(173),U=function(){return Object(m.jsx)("div",{style:{maxWidth:600},children:Object(m.jsx)(D.a,{title:"Instructions",status:"info",children:Object(m.jsxs)(l.a,{vertical:!0,children:[Object(m.jsx)(w.a,{children:"Drag your formatted Transaction History CSVs into the Dropzone and wait for your browser to translate them into your Capital Gains Tax CSV, formatted for TurboTax."}),Object(m.jsxs)(F.a,{type:"number",children:[Object(m.jsx)(F.a.Item,{children:"Download your Transaction History CSV for all time from Coinbase, Robinhood, Binance, Kraken, etoro or whatever crypto exchange you use."}),Object(m.jsxs)(F.a.Item,{children:["Open the file and edit it to observe to the following:",Object(m.jsxs)(F.a,{type:"bullet",children:[Object(m.jsx)(F.a.Item,{children:"Make sure the top row is the CSV headers. You may have to delete some data."}),Object(m.jsx)(F.a.Item,{children:"Rename your headers to this: Timestamp,Transaction Type,Asset,Quantity Transacted,USD Spot Price at Transaction,USD Subtotal,USD Total (inclusive of fees),USD Fees"}),Object(m.jsx)(F.a.Item,{children:"Transaction type can be: Buy, Sell, Send, Receive, Coinbase Earn"})]})]}),Object(m.jsxs)(F.a.Item,{children:["Select the HIFO or LIFO method for calculating your tax.",Object(m.jsxs)(F.a,{type:"bullet",children:[Object(m.jsx)(F.a.Item,{children:"HIFO: Highest In First Out means that the buy orders with the highest price will be chosen first when deciding where the currency for the sell order came from."}),Object(m.jsx)(F.a.Item,{children:"LIFO: Last In First Out means that the oldest buy orders will be chosen first when deciding where the currency for the sell order came from."})]})]})]})]})})})},Q=function(){return Object(m.jsx)(d.a,{sectioned:!0,title:"Disclaimer",children:Object(m.jsx)(w.a,{children:"This cryptocurrency capital gains tax calculator is for entertainment purposes only. I am not a professional in the crypto tax field. I wrote this for myself to learn how taxes are calculated on crypto currency. The Capital Gains Tax CSV you get back may not be correct."})})},k=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(o.a,{children:[Object(m.jsx)(s.a,{}),Object(m.jsxs)(l.a,{vertical:!0,spacing:"extraLoose",alignment:"center",children:[Object(m.jsx)(u.a,{size:"extraLarge",children:"Cryptocurrency Tax CSV Converter"}),Object(m.jsx)(u.a,{size:"large",children:"Transaction History CSV -> Capital Gains Tax CSV"}),Object(m.jsxs)(l.a,{distribution:"fillEvenly",children:[Object(m.jsx)(l.a.Item,{children:Object(m.jsx)(C,{})}),Object(m.jsx)(l.a.Item,{children:Object(m.jsx)(d.a,{sectioned:!0,children:Object(m.jsx)(g,{})})}),Object(m.jsx)(l.a.Item,{children:Object(m.jsx)(C,{})})]}),Object(m.jsx)(U,{}),Object(m.jsx)("div",{style:{maxWidth:600},children:Object(m.jsx)(Q,{})})]})]})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,175)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root")),P()}},[[163,1,2]]]);
//# sourceMappingURL=main.8be440e7.chunk.js.map